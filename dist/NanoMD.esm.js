!function(){const t=window,e=document,i=String,s=Boolean,n=Array,o=Object,r=JSON,l=Math,a=Map,u=URL,h=Node,c=Date,d=Blob,f=RegExp,p=parseInt,m=location,g="video/mp4",y="video/quicktime",v=["javascript","js","ts","html","css","xml","json","sql","java","python","ruby","php","cpp","csharp","swift","typescript","kotlin","go","rust","perl","bash"],w=t.matchMedia&&t.matchMedia("(prefers-color-scheme: dark)").matches,b=/(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(?:channels\/[\w]+\/|groups\/[\w]+\/videos\/|album\/\d+\/video\/|video\/|)(\d+)/,A=/\.([\w_-]+)?/gi,C=/\#([\w_-]+)?/i,M=/^\w+(?=[\#\.]*)/i,$=/(\n[\u0020\u00A0\u0009]*|\n[\u0020\u00A0\u0009]*>[\u0020\u00A0\u0009]*|\n[\u0020\u00A0\u0009]*([\-\*\+]|\d+\.)[\u0020\u00A0\u0009]+)\\?(\#{1,6})[\u0020\u00A0\u0009]+([^\n]+)/,_=/(\n)([^\n]+)\n\={3,}([\u0020\u00A0\u0009]*\n)/,I=/(\n)([^\n]+)\n\-{3,}([\u0020\u00A0\u0009]*\n)/,x=/([\u0020\u00A0\u0009]*\|[\u0020\u00A0\u0009]*)\\?(\#{1,6})[\u0020\u00A0\u0009]+([^\n\|]*)([\u0020\u00A0\u0009]*)/,k=/\*{2}([^\n\*]*)\*{2}/,T=/\_{2}([^\n\_]*)\_{2}/,N=/\*([^\n\*]*)\*/,D=/\_([^\n\_]*)\_/,E=/\~{2}([^\n\~]*)\~{2}/,S=/\={2}([^\n\=]*)\={2}/,L=/\~([^\n\~]*)\~/,j=/\^([^\n\^]*)\^/,P=/(\n[\u0020\u00A0\u0009]*)(\*{3,}|\-{3,})([\u0020\u00A0\u0009]*\n)/,R=/[\"\']{0,1}([\u0020\u00A0\u0009]*)(mailto\:)?([\u0020\u00A0\u0009]*)(\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*)([\u0020\u00A0\u0009]*)[\"\']{0,1}/,O=/(\s{1})\\?[\#＃]{1}([\u4e00-\u9fff\u3040-\u30ff\uac00-\ud7a3a-zA-Z0-9_]+)/,H=/[& \<\>\"\']/g,F=/\[([^\]\n]+)?\]\(([^\)\n\u0020\u00A0\u0009]+)([\u0020\u00A0\u0009]*[\"\']([^\)\n]+)[\"\'])?\)/,z=/\`([^\n\`]*)\`/,K=/^\n|\n$/g,B=/\`{3}(\w*)([\s\S]*?)\s*\`{3}/,U=/((\n([\u0020\u00A0]{4,}|[\u0009]))[^\n]+)+/,G=/^\s|\s$/g,q=/\!\[([^\]\n]+)?\]\(([^\)\n\u0020\u00A0\u0009]+)([\u0020\u00A0\u0009]*[\"\']([^\)\n]+)[\"\'])?\)(\(([0-9]+\%?)?[\u0020\u00A0\u0009\*x]+([0-9]+\%?)?([\u0020\u00A0\u0009]+(left|right))?\))?/,Z=/^['"].*['"]$/,W=/\n(([\-\*\+]|\d+\.)[\u0020\u00A0\u0009]+(.+)(\n.*\S.*)*)+/,V=/(([\-\*\+]|\d+\.)[\u0020\u00A0\u0009]+(.+)(\n.*\S.*)*)+/,Y=/^(([\-\*\+]|\d+\.)[\u0020\u00A0\u0009]*[^\n]+)/,J=/\.mov$/,X=/\.mp4$/,Q=/[A-Za-z\%]/,tt=/[\"\']{0,1}([\u0020\u00A0\u0009]*)(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*))([\u0020\u00A0\u0009]*)[\"\']{0,1}/,et=/(\<[\u00A0\u0020\u0009\>]*\/?[\u00A0\u0020\u0009\>]*br[\u00A0\u0020\u0009\>]*\/?[\u00A0\u0020\u0009\>]*\>|\n)/,it=/\n/,st=/\\\!/g,nt=/\\\`/g,ot=/\\\#/g,rt=/\\\*/g,lt=/\\\_/g,at=/\\\~/g,ut=/\\\^/g,ht=/\\\=/g,ct=/\\\</g,dt=/\\\>/g,ft=/\\\[/g,pt=/\\\]/g,mt=/\\\(/g,gt=/\\\)/g,yt=/\$/g,vt=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?/,wt="_blank",bt="selected",At="background",Ct="startsWith",Mt="key",$t="stringify",_t="keys",It="TEXT_NODE",xt="ELEMENT_NODE",kt="nodeType",Tt="add",Nt="alt",Dt="appendChild",Et="as",St="auto",Lt="baseOffset",jt="blockquote",Pt="body",Rt="button",Ot="charAt",Ht="checked",Ft="checkbox",zt="childNodes",Kt="children",Bt="class",Ut="clearTimeout",Gt="clipboardData",qt="code",Zt="Color",Wt="color",Vt="content",Yt="contentEditable",Jt="controls",Xt="copy",Qt="create",te="ctrlKey",ee="dark",ie="dataset",se="delay",ne="display",oe="div",re="editor",le="empty",ae="emptyContent",ue="error",he="float",ce="focus",de="fontFamily",fe="forEach",pe="from",me="get",ge="head",ye="height",ve="hide",we="href",be="id",Ae="iframe",Ce="img",Me="index",$e="init",_e="inner",Ie="input",xe="insert",ke="isArray",Te="join",Ne="label",De="lastChild",Ee="lazy",Se="length",Le="li",je="light",Pe="link",Re="loading",Oe="mark",He="match",Fe="metaKey",ze="min",Ke="mode",Be="Name",Ue="name",Ge="node",qe="none",Ze="number",We="object",Ve="offset",Ye="ol",Je="outerHTML",Xe="parent",Qe="pd-md-editor",ti="pd-md-viewer",ei="placeholder",ii="pre",si="props",ni="preload",oi="prettyprint",ri="prevent",li="push",ai="querySelector",ui="rel",hi="remove",ci="replace",di="click",fi="script",pi="scroll",mi="section",gi="set",yi="slice",vi="source",wi="span",bi="split",Ai="src",Ci="string",Mi="strong",$i="style",_i="sub",Ii="success",xi="sup",ki="table",Ti="tag",Ni="target",Di="temp",Ei="test",Si="textContent",Li="title",ji="toLowerCase",Pi="toUpperCase",Ri="trim",Oi="type",Hi="ul",Fi="value",zi="video",Ki="viewer",Bi="width",Ui="console",Gi="apply",qi="void",Zi="vdom",Wi="getElementById",Vi="crossOrigin",Yi="preconnect",Ji=Tt+"EventListener",Xi="background"+Zt,Qi=Bt+Be,ts=Bt+"List",es=Qt+"DocumentFragment",is=Qt+"Element",ss=Qt+"TextNode",ns=pe+"CharCode",os=ce+"Background"+Zt,rs=ce+"Offset",ls=ce+"Text"+Zt,as=me+"Data",us=me+"Selection",hs="hasOwnProperty",cs=Me+"Of",ds=_e+"HTML",fs=_e+"Text",ps=xe+"Before",ms=Ge+Be,gs=Ge+"Value",ys="onclick",vs="onwheel",ws=Xe+"Element",bs=Xe+"Node",As=ei+Zt,Cs=ri+"Default",Ms=ri+"Refresh",$s=ai+"All",_s=hi+"AllRanges",Is=pi+"Height",xs=pi+"Sync",ks=pi+"Top",Ts=gi+"Attribute",Ns=gi+"Data",Ds=gi+"End",Es=gi+"Start",Ss=gi+"Timeout",Ls=Ti+Be,js=Ti+"Path",Ps=Ti+"Target";let Rs="";const Os="@excl@",Hs="@grave@",Fs="@num@",zs="@ast@",Ks="@lowbar@",Bs="@tilde@",Us="@Hat@",Gs="@equal@",qs="@lt@",Zs="@gt@",Ws="@lsqb@",Vs="@rsqb@",Ys="@lpar@",Js="@rpar@",Xs="&lt;",Qs="&gt;",tn={create:"CREATE",append:"APPEND",replace:"REPLACE",text:"TEXT",prop:"PROP",remove:"REMOVE"};Array[pe]({[Se]:26},((t,e)=>i[ns](97+e)))[fe](((e,s)=>{let n=s<10,o=s>=10&&s<20,r=s>=20,l=i(s),a=l[Ot](l[Se]-1),u=i=>{Rs+=i?e[Pi]():e,t[(i?"$":"_")+(r?"_":"")+a+(o?"_":"")]=i?e[Pi]():e};u(0),u(1),n&&(Rs+=s,t["_"+e]=s)}));t._a,t._b,t._c,t._d,t._e,t._f,t._g,t._h,t._i,t._j;const en=t._0,sn=t._1,nn=(t._2,t._3,t._4,t._5,t._6),on=t._7,rn=t._8,ln=(t._9,t._0_,t._1_,t._2_,t._3_,t._4_,t._5_,t._6_,t._7_,t._8_),an=(t._9_,t.__0),un=(t.__1,t.__2,t.__3,t.__4,t.__5,t.$0,t.$1,t.$2,t.$3,t.$4,t.$5,t.$6,t.$7,t.$8,t.$9,t.$0_,t.$1_,t.$2_,t.$3_,t.$4_,t.$5_,t.$6_,t.$7_,t.$8_,t.$9_,t.$_0,t.$_1,t.$_2,t.$_3,t.$_4,t.$_5,"https://fonts.googleapis.com"),hn=un+"/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&display=swap",cn="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js",dn="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js",fn="https://cdn.jsdelivr.net/npm/@pardnchiu/nanomd@1.11.6/dist/NanoMD.css",pn="NanoMD\nGitHub: https://github.com/pardnchiu/NanoMD\nCreator: Pardn Chiu\nLicense: Proprietary";let mn;for(let t of[vn(Pe,{[ui]:Yi,[we]:"https://fonts.gstatic.com",[Vi]:""}),vn(Pe,{[ui]:Yi,[we]:un,[Vi]:""}),vn(Pe,{[ui]:ni,[we]:hn,[Et]:$i,[Vi]:"anonymous"}),vn(Pe,{[ui]:"stylesheet",[we]:hn}),vn(Pe,{[ui]:"preconnect",[we]:"https://cdn.jsdelivr.net"}),vn(Pe,{[ui]:ni,[we]:dn,[Et]:fi}),vn(fi,{[Ai]:dn}),vn(Pe,{[ui]:ni,[we]:cn,[Et]:fi}),vn(fi,{[Ai]:cn}),vn(Pe,{[ui]:ni,[we]:fn,[Et]:$i}),vn(Pe,{[ui]:"stylesheet",[we]:fn})])e[ge][Dt](t);document.addEventListener("load",(t=>{!function(...t){const i=vn(fi,`${Ui}.log.${Gi}(${qi} 0, ${JSON.stringify(t)});`);e[Pt][Dt](i),i[hi]()}("%c"+pn,"line-height: 1.75rem; font-size: 0.875rem;"),mermaid.initialize({startOnLoad:!1,cloneCssStyles:!1,htmlLabels:!1,theme:"default",sequence:{useMaxWidth:!1}})}));const gn=new a;function yn(t=32){let e="";for(let i=0;i<t;i++)e+="abcdefghijklmnopqrstuvwxyz0123456789"[Ot](l.floor(36*l.random()));return gn.has(e)?yn(t):(gn[gi](e,1),e)}function vn(t="",i,s){const r=((t[He](M)||[])[0]||"")[Ri](),l=((t[He](C)||[])[1]||"")[Ri](),a=(A[Ei](t)?t[He](A):[]).map((t=>t[ci](/^\./,"")));if(r[Se]<1)return;let u,h,c=t===Di,d=c?e[es]():e[is](r);if(91!=pn[Se])return d;l[Se]>0&&(d.id=l);for(const t of a)d[ts][Tt](t);if(null==i&&null!=s&&([i,s]=[s,null]),null!=i&&null!=s)[u,h]=[i,s];else if(null==s)typeof i===Ci||typeof i===Ze||n[ke](i)?h=i:u=i;else if(null==i)return d;return(()=>{if(typeof u===We&&null!=u)for(const t in u){if(!u[hs](t))continue;const e=u[t];if({[Fi]:1,[fs]:1,[ds]:1,[Si]:1,[Yt]:1,[bt]:1}[t])d[t]=e;else if({[ne]:1,[Wt]:1,[Xi]:1,[At]:1,[Bi]:1,[ye]:1,[he]:1}[t])d[$i][t]=e;else if(t===ie&&typeof e===We)for(const t of o[_t](e))d[ie][t]=e[t];else null!=e&&d[Ts](t,e)}})(),(()=>{if(null==h)return;const t=typeof h===We;if(n[ke](h)){for(let t of h){const i=t instanceof Element;typeof t===Ci||typeof t===Ze?c?d[Dt](e[ss](t)):d[ds]+=t:i&&d[Dt](t)}return}if(t)return;const i=h,s=r===Ie,o="textarea"===r;r===Ce||r===vi?d[Ai]=i:o||s?d[Fi]=i:c?d[Dt](e[ss](h)):d[ds]=i})(),d}function wn(t=""){return"{{"+(t[Ri]()||St)+"-"+yn()+"}}"}function bn(t=""){return t[ci](H,(t=>({"&":"&amp;"," ":"&nbsp;","<":Xs,">":Qs,'"':"&quot;","'":"&apos;"}[t])))}function An(t){const e=vn(oe);return e[Dt](t),e[ds]}function Cn(t,e=""){return new f(t,e)}function Mn(t){if(t)return t[Qi]===Qe||t[ms][ji]()===oe&&t[bs][Qi]===Qe?t:Mn(t[bs])}function $n(t=""){if((t=t[Ri]())[Se]<1)return"";const e=t[He](vt)||[];return e[Se]>2&&11===e[1][Se]?e[1]:""}function _n(t=""){if((t=t[Ri]())[Se]<1)return"";return(t[He](b)||[])[1]}let In=new a;function xn(t,e="",i="",s="",n="",o=""){const r=wn(i),l=s instanceof HTMLElement?s:vn(i,s);return In[gi](r,l[Je]),e[ci](t,n+r+o)}const kn=/(\n)(\>\s*\[\!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\]\n)?(\>[^\n]*(\n)?)+/,Tn=/^\>[\u00A0\u0020\u0009]?/,Nn=/^[\u00A0\u0020\u0009]*\>[\u00A0\u0020\u0009]?/,Dn=/\n\>[\u00A0\u0020\u0009]?/g,En=/\[\!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\]/,Sn={NOTE:"info",TIP:"lightbulb",IMPORTANT:"sms",WARNING:"warning",CAUTION:"error"};function Ln(t="",i=!0){let s;0!=i&&(i=!0);for(const e of t[He](Cn(kn,nn))||[]){const i=e[He](kn),o=i[1]||"",r=i[3]||"",l=i[5]||"";s=vn(jt+(r[Se]?"."+r:"")),n(e,r),t=xn(e,t,jt,s,o,l)}function n(t,e=""){const i=Gn(t[Ri]()[ci](Tn,"")[ci](Dn,"\n"))[bi](it);for(const t in i)s[Dt](o(i[t],p(t),e))}function o(t,s=0,n=""){const r=vn(Di),l=t[ci](Nn,"");if(En[Ei](t)&&0===s&&i)r[Dt](vn(wi+".hint",[Sn[n]?vn("span.material-symbols-outlined",Sn[n]):null,n])),r[Dt](vn("br"));else if(Nn[Ei](t)){let t=vn(jt);t[Dt](o(l)),r[Dt](t)}else/^[\u00A0\u0020\u0009]*\{\{/[Ei](t)?r[Dt](e[ss](t)):r[Dt](vn(wi,t));return r}return t}function jn(t){return Ln(t,!1)}function Pn(t=""){let e=[[qt,z]];for(let i of e){const e=i[0],s=i[1];for(let i of t[He](Cn(s,nn))||[]){const n=i[He](s);if(G[Ei](n[1]||""))continue;let o=(n[1]||"")[Ri]();o[Se]<1||(e!=qt?t=t[ci](i,vn(e,o)[Je]):(o=bn(o),t=xn(i,t,e,o)))}}return t}function Rn(t){let e=0,i=vn(Ye);for(let s in t){const n=t[s];0===p(s)&&(e=l.floor((n[He](/^\s*/)||[""])[0][Se]/4));const o=Cn(`^\\s{0,${4*e}}`);i[Dt](vn(Le,bn(n[ci](o,""))))}return i}function On(t="",e=!0){0!=e&&(e=!0);for(const t of[[Mi,k],[Mi,T],[ln,E],["em",N],["em",D],[Oe,S],[xi,j],[_i,L]])!e&&{[Oe]:1,[xi]:1,[_i]:1}[t[0]]||i(t[0],t[1]);function i(e,i){for(const s of t[He](Cn(i,nn))||[]){const n=s[He](i);if(G[Ei](n[1]||""))continue;let o=(n[1]||"")[Ri]();o[Se]<1||(e!=qt?t=t[ci](s,vn(e,o)[Je]):(o=bn(o),t=xn(s,t,e,o)))}}return t}function Hn(t=""){return On(t,!1)}function Fn(t="",e="",s=wt){if(i(e||"")[Ri]()[Se]<1)return t;for(const i of t[He](Cn(O,nn))||[]){if(i[He](/^\\/))continue;const n=i[He](O);if(n[Se]<1)continue;const o=n[1],r=(n[2]||"")[Ri](),l=wn(en);if(r[Se]<1)continue;const a=vn(Di,[vn(en+"."+Ti,{[we]:e+r,[Ni]:s===wt?wt:"_self"},r)]);In[gi](l,An(a)),t=t[ci](i,o+l)}return t}function zn(t=""){return(()=>{for(const e of t[He](Cn($,nn))||[]){const i=e[He]($);if(i[Se]<1)continue;const s=i[1]||"",n=(i[3]||"")[Ri]()[Se],o=(i[4]||"")[Ri]();0!=l[ze](n,o[Se])&&(t=xn(e,t,on+n,o,s))}})(),(()=>{for(const e of t[He](Cn(x,nn))||[]){const i=e[He](x);if(i[Se]<1)continue;const s=i[1]||"",n=(i[2]||"")[Ri]()[Se],o=(i[3]||"")[Ri](),r=i[4]||"";0!=l[ze](n,o[Se])&&(t=xn(e,t,on+n,o,s,r))}})(),(()=>{for(const e of t[He](Cn(_,nn))||[]){const i=e[He](_);if(i[Se]<1)continue;const s=i[1]||"",n=(i[2]||"")[Ri](),o=i[3]||"";n[Se]<1||(t=xn(e,t,on+1,n,s,o))}})(),(()=>{for(const e of t[He](Cn(I,nn))||[]){const i=e[He](I);if(i[Se]<1)continue;const s=i[1]||"",n=(i[2]||"")[Ri](),o=i[3]||"";n[Se]<1||(t=xn(e,t,on+2,n,s,o))}})(),t}function Kn(t=""){for(let e of t[He](Cn(P,nn))||[]){const i=e[He](P);if(i[Se]<1)continue;const s=i[1]||"",n=i[3]||"",o=wn("hr");In[gi](o,"<hr>"),t=t[ci](e,s+o+n)}return t}function Bn(t="",e=!0){const i="this.parentElement.nextElementSibling.style.display='block';this.parentElement.style.display='none'",s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yNTkyXzMwNDkpIj4KPHBhdGggZD0iTTEyMCA2MEMxMjAgMjYuODYyOSA5My4xMzcxIDAgNjAgMEMyNi44NjI5IDAgMCAyNi44NjI5IDAgNjBDMCA5My4xMzcxIDI2Ljg2MjkgMTIwIDYwIDEyMEM5My4xMzcxIDEyMCAxMjAgOTMuMTM3MSAxMjAgNjBaIiBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIwLjUiLz4KPHBhdGggZD0iTTg0LjM2MzMgNTYuNTgwM0M4Ni45MzAyIDU4LjEzNzYgODYuOTMwMiA2MS44NjI2IDg0LjM2MzMgNjMuNDE5OUw1MS44MjQ4IDgzLjE2MTJDNDkuMTU5MSA4NC43Nzg2IDQ1Ljc1IDgyLjg1OTQgNDUuNzUgNzkuNzQxNFY0MC4yNTg4QzQ1Ljc1IDM3LjE0MDggNDkuMTU5MSAzNS4yMjE2IDUxLjgyNDggMzYuODM4OUw4NC4zNjMzIDU2LjU4MDNaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzI1OTJfMzA0OSI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPg==";function n(t,e,n,o){return An(vn(Di,[vn(en,{[Li]:o,[we]:e,[Ni]:wt},n||e),vn("section.more",[vn("img.cover","https://i.ytimg.com/vi/"+t+"/mqdefault.jpg"),vn("img.icon",{[ys]:i},s)]),vn(Ae,{[Re]:Ee,[Bi]:"640px",[Ai]:"https://www.youtube.com/embed/"+t,frameborder:0,allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",[ne]:qe})]))}function o(t,e,n,o){const r=function(t){const e=`https://vimeo.com/api/v2/video/${t}.json`;let i=null;const s=new XMLHttpRequest;s.open("GET",e,!1);try{s.send(),200===s.status?i=JSON.parse(s.responseText)[0].thumbnail_large:console.error("HTTP 錯誤:",s.status)}catch(t){console.error("無法獲取縮圖:",t)}return i}(t);return An(vn(Di,[vn(en,{[Li]:o,[we]:e,[Ni]:wt},n||e),vn("section.more",[vn("img.cover",r),vn("img.icon",{[ys]:i},s)]),vn(Ae,{[Re]:Ee,[Bi]:"640px",[Ai]:"https://player.vimeo.com/video/"+t,frameborder:0,allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:"",[ne]:qe})]))}return 0!=e&&(e=!0),(()=>{for(let i of t[He](Cn(F,nn))||[]){const s=i[He](F);if(s[Se]<1)continue;const r=(s[1]||"")[Ri](),a=(s[2]||"")[Ri](),u=(s[4]||"")[Ri](),h=($n(a)||"")[Ri](),c=(_n(a)||"")[Ri]();if(0!=l[ze](r[Se],a[Se]))if(h[Se]&&e)t=xn(i,t,oe,n(h,a,r,u));else if(c[Se]&&e)t=xn(i,t,oe,o(c,a,r,u));else{const e=vn(en,{[Li]:u,[we]:a,[Ni]:wt},r);t=xn(i,t,en,e)}}})(),(()=>{for(let i of t[He](Cn(tt,nn))||[]){if(i[He](Z))continue;const s=i[He](tt);if(s[Se]<1)continue;const r=s[1]||"",l=(s[2]||"")[Ri](),a=s[5]||"",u=($n(l)||"")[Ri](),h=(_n(l)||"")[Ri]();if(!(l[Se]<1))if(u[Se]&&e)t=xn(i,t,oe,n(u,l),r,a);else if(h[Se]&&e)t=xn(i,t,oe,o(h,l));else{const e=vn(en,{[we]:l,[Ni]:wt},l);t=xn(i,t,en,e,r,a)}}})(),(()=>{for(let e of t[He](Cn(R,nn))||[]){if(e[He](Z))continue;const i=e[He](R);if(i[Se]<1)continue;const s=(i[1]||"")+(i[2]||"")+(i[3]||""),n=(i[4]||"")[Ri](),o=i[8]||"";if(n[Se]<1)continue;const r=vn(en,{[we]:"mailto:"+n,[Ni]:wt},n);t=xn(e,t,en,r,s,o)}})(),t}function Un(t=""){return Bn(t,!1)}function Gn(t=""){for(let i of t[He](Cn(W,nn))||[])e(i);function e(e){let i;e[Ri]()[ci](Cn(et,nn),"\n")[bi](et)[fe](((t,e)=>{const s=t[He](V)||[],n=s[Se]<1?null:/\d+\./[Ei]((s[2]||"")[Ri]())?Ye:Hi,o=(t[He](/\s{4}/g)||[])[Se];let r=s[Se]<1?t[ci](/^\s*([\-\*\+]|\d+\.)?\s*/g,""):(s[3]||"")[Ri]();if(0===p(e)&&null==n)return;0===p(e)&&(i=vn(n));let l=i;function a(t,e){if(/^\[\s*(\x)?\s*\]/[Ei](e)){const i=e[Ri]()[He](/^\[\s*(\x)?\s*\]/);e=e[ci](/^\[\s*(\x)?\s*\]\s*/,"");const s=null!=i[1];t[Dt](vn(Le,[vn(Ne,[vn(Ie,{[Oi]:Ft,[Ht]:s?"":null,[ys]:"return false;"}),vn(wi,e)])]))}else t[Dt](vn(Le,e))}if(/^\s{0,3}([\-\*\+]|\d+\.)/[Ei](t))a(l,r);else if(/^\s{4,}([\-\*\+]|\d+\.)/[Ei](t)){l=i[De];for(let t=0;t<o&&(null!=l&&null!=l[Ls]);t++)if(t==o-1&&l[Ls][ji]()==Le)if(l[De]instanceof HTMLElement&&(l[De][Ls][ji]()==Ye||l[De][Ls][ji]()==Hi))a(l[De],r);else if(/^\[\s*(\x)?\s*\]/[Ei](r)){const t=r[Ri]()[He](/^\[\s*(\x)?\s*\]/);r=r[ci](/^\[\s*(\x)?\s*\]\s*/,"");const e=null!=t[1];l[Dt](vn(n,[vn(Le,[vn(Ne,[vn(Ie,{[Oi]:Ft,[Ht]:e?"":null,[ys]:"return false;"}),vn(wi,r)])])]))}else l[Dt](vn(n,[vn(Le,r)]));else l=l[De][De]}else{if(null==i)return;for(l=i[De];null!=l[De];)l=l[De];if(l instanceof HTMLElement);else if(/^\{\{(h\d|img|pre)/[Ei](l[gs]||""));else{for(;l[ws][Ls][ji]()!=Le;)l=l[ws];l[ws][Dt](vn("br"))}l[ws][ds]+=r}})),null!=i&&(t=xn(e,t,"list",i))}return t}function qn(t=""){for(let e of t[He](Cn(q,nn))||[]){const i=e[He](q);if(i[Se]<1)continue;const s=(i[1]||"")[Ri](),n=(i[2]||"")[Ri](),o=(i[4]||"")[Ri]();let r=(i[6]||"")[Ri](),l=(i[7]||"")[Ri](),a=(i[9]||"")[Ri]();if(n[Se]<1)continue;r[Se]&&!Q[Ei](r)&&(r+="px"),l[Se]&&!Q[Ei](l)&&(l+="px");const u=J[Ei](n),h=X[Ei](n);let c;c=u?vn(zi,{[Jt]:"",[Li]:o,[Bi]:r||null,[ye]:l||null},[vn(vi,{[Oi]:y},n)]):h?vn(zi,{[Jt]:"",[Li]:o,[Bi]:r||null,[ye]:l||null},[vn(vi,{[Oi]:g},n)]):vn(Ce,{[Nt]:s,[Li]:o,[Bi]:r||null,[ye]:l||null,[he]:a[Se]?a:null},n),null!=c&&(t=xn(e,t,Ce,c))}return t}function Zn(t=""){for(let e of t[He](Cn(q,nn))||[]){const i=e[He](q);if(i[Se]<1)continue;const s=(i[1]||"")[Ri](),n=(i[2]||"")[Ri](),o=(i[4]||"")[Ri]();if(n[Se]<1)continue;const r=J[Ei](n),l=X[Ei](n);let a;a=r?vn(zi,{[Jt]:"",[Li]:o},[vn(vi,{[Oi]:y},n)]):l?vn(zi,{[Jt]:"",[Li]:o},[vn(vi,{[Oi]:g},n)]):vn(Ce,{[Nt]:s,[Li]:o},n),null!=a&&(t=xn(e,t,Ce,a))}return t}function Wn(t=""){for(let e of t[He](Cn(B,nn))||[]){const i=e[He](B);if(i[Se]<1)continue;const s=null==i[2][He](K),n=s?"":(i[1]||"")[Ri]()[ji](),o=i[2]||"",r=-1!=v[cs](n),l=o[ci](K,"")[bi](it);let a;a="mermaid"==n[ji]()?vn(oe+".mermaid",o):s?vn(qt+"."+oi,bn(o)):vn(ii+"."+oi,{[Ue]:n},[vn(qt+(r?".language-"+n:""),{[Ue]:n},[Rn(l)]),vn(Rt+"."+Xt)]),t=xn(e,t,s?qt:ii,a)}return t}function Vn(t=""){for(let e of t[He](Cn(U,nn))||[]){const i=e[He](U),s=/<\s*\/?\s*\w+.*?>/i;if(i[Se]<1||s.test(e))continue;const n=i[2]||"",o=e[ci](K,"")[bi](it),r=vn(ii+"."+oi,[vn(qt,[Rn(o)]),vn(Rt+"."+Xt)]);t=xn(e,t,ii,r,n)}return t}function Yn(t=""){let e;function i(t){const e=t[He](/^([\u0020\u00A0\u0009]*\n[\u0020\u00A0\u0009]*)+/)||[],i=t[He](/[\u0020\u00A0\u0009]*\n[\u0020\u00A0\u0009]*$/)||[];return[e[0]||"",i[0]||""]}function s(t){const i=t[Ri]()[bi](it);e=vn(Di,[vn(ki,[vn("thead"),vn("tbody")])]);let s=!0,o=[],r=0;for(let t in i){const l=i[t],a=l[He](/((\s*)\|?((?:.*?\|)*.*)\|?)+/)||[];if(a[Se]<1)continue;const u=(a[3]||"")[Ri]()[ci](/[\u0020\u00A0\u0009]*\|[\u0020\u00A0\u0009]*$/,""),h=/^[\u0020\u00A0\u0009]*\|?([\u0020\u00A0\u0009]*[\-\:]+[\u0020\u00A0\u0009]*\|?)+[\u0020\u00A0\u0009]*$/[Ei](l),c=u[bi](/[\u0020\u00A0\u0009]*\|[\u0020\u00A0\u0009]*/);if(0===p(t)&&(r=c[Se]),h){for(let t of l[ci](/^([\u0020\u00A0\u0009]*\|)|(\|[\u0020\u00A0\u0009]*)$/g,"")[bi](/\|/))/^\-+\:$/[Ei](t[Ri]())?o.push("right"):/^\:\-+\:$/[Ei](t[Ri]())?o.push("center"):o.push("left");const t=[...e.firstChild.firstChild.childNodes[0].childNodes];for(let e in t)t[e].setAttribute("align",o[e]);s=!1}else n(s,c,r,o)}}function n(t=!0,i=[],s=0,n=[]){const o=t?e.firstChild.firstChild:e.firstChild[De],r=vn("tr");for(let e=0;e<s;e++)r[Dt](vn(t?"th":"td",{align:n[e]},i[e]||""));o[Dt](r)}return(()=>{const n=/([^\n]*)(?:[\u0020\u00A0\u0009]*\|[^\n]*\|[^\n]*\n)[\u0020\u00A0\u0009]*\|([\u0020\u00A0\u0009\-\:]*\|)+\n(?:[\u0020\u00A0\u0009]*\|[^\n]*\|[^\n]*\n)*/;for(let o of t[He](Cn(n,nn))||[])Y[Ei](o)||(s(o),t=xn(o,t,ki,An(e),...i(o)))})(),(()=>{const n=/(([^\n]+\|)*[^\n]+\n)(([\u0020\u00A0\u0009\-\:]+\|)*[\u0020\u00A0\u0009\-\:]+\n)(?:([^\n]+\|)*[^\n]+\n)*/;for(let o of t[He](Cn(n,nn))||[])s(o),t=xn(o,t,ki,An(e),...i(o))})(),t}function Jn(t="",e="",i=wt,s=!1){for(const e of[[st,Os],[nt,Hs],[ot,Fs],[rt,zs],[lt,Ks],[at,Bs],[ut,Us],[ht,Gs],[ct,qs],[dt,Zs],[ft,Ws],[pt,Vs],[mt,Ys],[gt,Js],[yt,"@dollar@"],[/[\u00A0\u0020]/g," "]])t=t[ci](e[0],e[1]);for(const n of[Wn,Pn,qn,Zn,Bn,Un,On,Hn,zn,Kn,Yn,Ln,jn,Gn,Vn,Fn])(!s||n!==Wn&&n!==qn&&n!==Bn&&n!==On&&n!==Ln&&n!==Fn)&&(t=n(t,e,i));for(;/\{{2}\w*\-*\w{32}\}{2}/[Ei](t);)for(const e of t[He](/\{{2}\w*\-*\w{32}\}{2}/g)||[])t=t[ci](Cn(e),In[me](e));for(const e of["h1","h2","h3","h4","h5","h6",ki,Ye,Hi,ii,jt,"details","hr",Ne]){const i=Cn(`[  \t]*\\n[  \t]*<${e}`,nn),s=Cn(`${e}>[  \t]*\\n[  \t]*`,nn);t=t[ci](i,`<${e}`)[ci](s,`${e}>`)}for(const e of[[Os,"&excl;"],[Hs,"&grave"],[Fs,"&num;"],[zs,"&ast;"],[Ks,"&lowbar;"],[Bs,"&tilde;"],[Us,"&Hat;"],[Gs,"&equal;"],[qs,Xs],[Zs,Qs],[Ws,"&lsqb;"],[Vs,"&rsqb;"],[Ys,"&lpar;"],[Js,"&rpar;"],[Os,"&dollar;"],[/([\u0020\u00A0\u0009]*\n[\u0020\u00A0\u0009]*){2,}/,"<br>"]])t=t[ci](Cn(e[0],nn),e[1]);return t}class Xn{#t="";#e;#i=!0;#s=!0;#n;#o;#r;#l;#a;#u;#h;deployKey;constructor(n={}){this.#t=(n.defaultContent||"")[Ri]();const o=n[$i]||{},r=i(o[Ke]||St)[Ri]()[ji](),l=s(null==o.fill?1:o.fill)?1:0,a=i(o[de]||"")[Ri]()||"'Roboto Mono', monospace",u=s(null==o.showRow?1:o.showRow)?1:0,h=o.placeholder||{},c=i(h.text||"Type here ..."),d=i(h.color||"#bfbfbf"),f=o.focus||{},p=i(f.backgroundColor||"#0000ff1a"),m=i(f.color||"#0000ffff");e[ge][Dt](vn($i,`\n.${Qe}{font-family: ${a}}\n.${Qe}>div[data-focus="1"]{background-color:${p};color:${m};caret-color:${m}}\n.${Qe}>div[data-last="1"]:empty::after{content:"${c}";color:${d} !important;caret-color:${m}}`));const g=e[Wi](n[be]);typeof n[be]===Ci&&null!=g?(this[Pt]=g,g.classList.add(Qe)):this[Pt]=vn(mi+"."+Qe),this[Pt][ie][Ke]=w&&r===St||r===ee?ee:"",this[Pt][ie].fill=l,this[Pt][ie].row=u,this[Pt][ie].pin={1:1,0:0,[!0]:1,[!1]:0}[n.tabPin]||0,this[Pt][ie].wrap={1:1,0:0,[!0]:1,[!1]:0}[n.wrap]||1,this[Pt][ie].saved=1,this[Pt][ie].autosave=null==n.autosave?1:0,this.#h=new to(this[Pt]);const y=this[Pt];if(this.#i=s(null==n.hotKey||n.hotKey),this.#s=s(null==n.autosave||n.autosave),this.#n=n.event||{},null==this.#r&&n[Ms]&&(this.#r=t[Ji]("beforeunload",(t=>{t[Cs]()})),e[Ji]("keydown",(t=>{("F5"===t[Mt]||(t.ctrlKey||t.metaKey)&&{r:1,R:1}[t[Mt]])&&t[Cs]()}))),null!=n[Ke]){let t=i(n[Ke]||St)[Ri]()[ji]();this[Pt][ie][Ke]=w&&t===St||t===ee?ee:""}if(null!=n.fillMode){let t=s(n.fillMode)?1:0;this[Pt][ie].fill=t}if(null!=n.showRow){let t=s(n.showRow)?1:0;this[Pt][ie].row=t}if(null!=n[de]){let t=i(n[de])[Ri]()||"'Roboto Mono', monospace";e[ge][Dt](vn($i,`.${Qe}{font-family: ${t}}`))}let v=i(n[os]||"")[Ri]()||p,b=i(n[ls]||"")[Ri]()||m;e[ge][Dt](vn($i,`.${Qe}>div[data-focus="1"]{background-color:${v};color:${b}`));let A=i(n[ei]||"")[Ri]()||c,C=i(n[As]||"")[Ri]()||d;e[ge][Dt](vn($i,`.${Qe}>div[data-last="1"]:empty::after{content:"${A}";color:${C}}`)),y.onmousedown=y.onmouseup=y.ontouchend=t=>{if(t.target[Ls][ji]()!==oe)return t[Cs](),!1;this.#c()},y.oncut=t=>(this.#d(),this.#f((e=>{t[Gt][Ns]("text/plain",this.#u.body),y[Kt][this.#u.start][ds]=bn(this.#u.left+this.#u.right),this.#p(),this.#m(y[Kt][this.#u.start],this.#u.left[Se])})),this.#g(!0,!1),!1),y.onpaste=e=>(this.#d(),this.#f((i=>{const s=((e[Gt]||t[Gt])[as]("Text")||"")[bi](/\n/),n=s[Se],o=n-1,r=n>1,l=this.#u.start+o,a=`${r?"":this.#u.left}${s[o]}`[Se],u=s[0],h=r?"":this.#u.right;if(y[Kt][this.#u.start][fs]=this.#u.left+u+h,this.#p(),r)for(let t=1;t<n;t++){const e=s[t],i=vn(oe,bn(`${e}${t===o?this.#u.right:""}`));i[ys]=t=>this.#c(),y[ps](i,y[Kt][this.#u.start+t])}this.#m(y[Kt][l],a,a)})),this.#g(!0,!1),!1),y.oninput=t=>{let e,i;if("deleteCompositionText"===t.inputType){e=this.#a.index,i=this.#a.offset;for(let t of[...y[Kt]]){if(t[ms][ji]()===oe||t[ms][ji]()===mi)continue;t[hi]();let s=vn(oe,{"data-index":e+1,index:e+1});s[ys]=t=>this.#c(),y[ps](s,y[Kt][e]),this.#m(y[Kt][e],i)}}t.inputType;let s=this.#a.isMulti,n=this.#a.multi.left,o=t.data,r=this.#a.multi.right,l=this.#a.multi.start.offset;this.#c(),s&&(this.#o[fs]=n+o+r,this.#m(this.#o,l+1)),this.#g(!0,300)},y.onkeydown=t=>!new eo({editor:this,hotKey:this.#i,[Ms]:n[Ms],event:t}).preventDefault,y.onkeyup=t=>{"Meta"!==t.key&&"Control"!==t.key&&(y[Kt]&&1===y[Kt][Se]&&y.firstElementChild[ms][ji]()!==oe&&this[$e](null,!0,!1),this.#c(),/^(Arrow(Up|Left|Down|Right)|CapsLock|Shift|Control|Alt|Clear|Escape|F\d+)$/[Ei](t.key)||this.#s&&this.#y())},y.onblur=t=>{this.#d()},this.init()}get viewer(){return this.#l}set viewer(t){this.#l=t}#v(){let t=vn("button",[vn("span.material-symbols-outlined","markdown"),"Markdown"]),i=vn("button",[vn("span.material-symbols-outlined","html"),"HTML"]),s=vn("button",[vn("span.material-symbols-outlined","cancel"),"Cancel"]),n=vn("div.nanomd-pop",[vn("strong","Export"),t,i,s]);t[ys]=t=>{this.download("md"),n.remove()},i[ys]=t=>{this.download("html"),n.remove()},s[ys]=t=>{n.remove()},e[Pt][Dt](n)}#c(e,i=!1){this.#d(),this.#a=new Qn(this[Pt],e,i);const s=t[us]();if(s.rangeCount<1)return;const n=s.getRangeAt(0);let o=e||Mn(n.commonAncestorContainer);null!=o&&this.#w(o,this.#a.index||this.#a.multi.end.index)}#f(t){this.#u=new io(this[Pt],this.#a),t()}#p(){this.#u.removeRows()}#m(i,s,n){const o=this[Pt][$s](oe);for(let t in o){const e=o[t];if(isNaN(p(t)))continue;const i=p(t)+1;e[ie][Me]=i,i===o.length?e[ie].last=1:e[ie].last=0}if(t[us]?t[us]()[le]?t[us]()[le]():t[us]()[_s]&&t[us]()[_s]():e[us]&&e[us]()[le](),null==i)return;let r=t[us](),l=e.createRange(),a=s??i[zt][0][Se],u=n??a;l.selectNode(i),i[zt][0]?(l[Es](i[zt][0],a>i[zt][0][Se]?i[zt][0][Se]:a),l[Ds](i[zt][0],u>i[zt][0][Se]?i[zt][0][Se]:u)):(l[Es](i,0),l[Ds](i,0)),r.addRange(l),this.#c(i)}#w(t,e){const i=mi+"."+Ie+"-"+Rt;let s=this[Pt][ai](i);t[ie][ce]=1,this[Pt][ps](s,this[Pt][Kt][e+1]),s[ie][ve]=0,this.#o=t}#d(){if(!this.#o)return;const t=mi+"."+Ie+"-"+Rt,e=this[Pt][ai](t);this.#o[ie][ce]=0,null!=e&&(this[Pt][Dt](e),e[ie][ve]=1),this.#o=null}#b(t){t=bn(t);let e=this.#A;const i=vn(oe,t);i[ys]=t=>this.#c(),e[fs][Ri]()[Se]<1?e[ds]=t:this[Pt][Dt](i),this[Pt][ks]=this[Pt][Is],this[Ki]&&(this[Ki][Pt][ks]=this[Ki][Pt][Is])}get#A(){let t=this[Pt].lastElementChild;return"SECTION"===t[ms]&&(t=t.previousElementSibling),t}#C(t,e){const i=this[Pt][Kt][this.#u.start];i[ds]=bn(t),this.#p(),this.#m(i,e)}#M(t,e="",i=""){const s=t[Fe]||t[te]||e===i;this.#a.check?this.#f((t=>{const n=this.#u.left,o=this.#u.body,r=this.#u.right,l=`${n}${s?`<${i}>`:e}${o}${s?`</${i}>`:e}${r}`[ci](/\n/g,""),a=l[Se]-r[Se]-(s?i[Se]+3:e[Se]);this.#C(l,a),this.#g(!0,this.#s)})):(this.#b(s?`<${i}></${i}>`:`${e}${e}`),this.#m(this.#A,s?i[Se]+3:e[Se]),this.#g(!0,this.#s))}#$(t){this.#a.check?this.#f((e=>{const i=this.#u.start,s=this.#u.end;for(let e=i;e<=s;e++){const i=this[Pt][Kt][e];i[ds]=bn(`${t} ${i[fs]}`)}const n=this[Pt][Kt][s],o=n[fs][Se];this.#m(n,o),this.#g(!0,this.#s)})):(this.#b(t),this.#m(this.#A,t[Se]+1),this.#g(!0,this.#s))}#_(t="",e="",i){if(this.#a.check)return void this.#f((s=>{const n=this.#u.left,o=this.#u.right,r=`${n}${null==i?"":"!"}[${t||i}](${e}) ${o}`[ci](/\n/g,""),l=r[Se]-o[Se]-1;this.#C(r,l),this.#g(!0,this.#s)}));this.#b(`${null==i?"":"!"}[${t||i}](${e})`);const s=this.#A,n=s[fs][Se];this.#m(s,n),this.#g(!0,this.#s)}#g(t,e){this.#c(),this.#h.add(this.#a,t,"number"==typeof e?e:0),this.unsave(),("boolean"==typeof e&&e||null==e)&&this.#y()}#I(t,i){const s=new d([i],{[Oi]:"application/octet-stream"}),n=u.createObjectURL(s),o=vn(en,{href:n,download:`NanoMD-${c.now()}.${t}`});e[Pt][Dt](o),o[di]()}#y(){this[Pt][ie].saved=1,null!=this[Ki]&&this[Ki][$e]()}init(t,e=!0,s=!0){if(this[Pt][Yt]=!0,this[Pt][ds]=null,this.#e=new so({editor:this,autosave:this.#s,event:this.#n}),this[Pt][Dt](this.#e.body),(t=i(t||this.#t)[Ri]())[Se]){this.#t="";const i=t[ci](/\n*$/,"")[bi](/\n/);for(let t=0;t<i.length;t++){const e=i[t],s=vn(oe,{"data-index":t+1,"data-last":t===i.length-1?1:0,"data-focus":0},bn(e));s[ys]=t=>this.#c(),this[Pt][Dt](s)}if(!e)return}else{const t=vn(oe,{"data-index":1,"data-last":1,"data-focus":0});if(t[ys]=t=>this.#c(),this[Pt][Dt](t),!e)return}s&&(this.#c(),this.#h.add(this.#a,!0))}changeMode(t=je){this[Pt][ie][Ke]=t}selectAll(){this.#d();const t=this[Pt].firstElementChild,e=this.#A,i=window.getSelection(),s=document.createRange();null!=t.firstChild&&(s.setStart(t.firstChild,0),s.setEnd(e.firstChild,e.firstChild.length),i.removeAllRanges(),i.addRange(s))}save(){if(this.#s)if(this.#n[hs]("save")){if(null==this.#n.save)return!1;this.#n.save(this.text)}else this.#v();else if(this.#y(),this.#n[hs]("save")){if(null==this.#n.save)return!1;this.#n.save(this.text)}}unsave(){0!==p(this[Pt][ie].saved)&&(this[Pt][ie].saved=0,this[Ki]&&this[Ki].unsave())}indent(t){if(9!==t.keyCode)return;const e=this[Pt];return this.#f((t=>{e[Kt][this.#u.start][ds]=bn(this.#u.left+"    "+this.#u.right),this.#p();const i=this.#u.left[Se]+4;this.#m(e[Kt][this.#u.start],i),this.#g(!0,!1)})),!1}rowIndent(t){const e=this[Pt];return this.#f((t=>{const i=this.#u.start,s=this.#u.end,n=this.#u.start!=this.#u.end;if(this.#d(),n)for(let t=i;t<=s;t++){const i=e[Kt][t][ds];e[Kt][t][ds]=bn("    ")+i}else{const t=e[Kt][i][ds];e[Kt][i][ds]=bn("    ")+t}const o=e[Kt][i][ds][Se];this.#m(e[Kt][this.#u.start],o),this.#g(!0,!1)})),!1}wrap(t){if(13!==t.keyCode)return;const e=this[Pt];return this.#f((t=>{e[Kt][this.#u.start][ds]=bn(this.#u.left),this.#p(),e[ws][ws][ks]+=28;const i=vn(oe,bn(this.#u.right));i[ys]=t=>this.#c(),e[ps](i,e[Kt][this.#u.start+1]),this.#m(e[Kt][this.#u.start+1],0),this.#g(!0,!1)})),!1}backspace(t){if(8!==t.keyCode)return!1;const e=this[Pt];return this.#f((t=>{if(this.#a.isMulti||this.#a.isSingle)e[Kt][this.#u.start][ds]=bn(this.#u.left+this.#u.right),this.#p(),this.#m(e[Kt][this.#u.start],this.#u.left[Se]);else if(this.#u.left[Se]){const t=this.#u.left[yi](0,this.#u.left[Se]-1);e[Kt][this.#u.start][ds]=bn(t+this.#u.right),this.#m(e[Kt][this.#u.start],t[Se])}else{if(0===this.#u.start)return;e[Kt][this.#u.start-1][ds]+=bn(this.#u.right),e[Kt][this.#u.start][hi](),e[ws][ws][ks]-=28;const t=e[Kt][this.#u.start-1][fs][Se]-this.#u.right[Se];this.#m(e[Kt][this.#u.start-1],t)}this.#g(!0,!1)})),!1}undo(){this.#d();const t=this.#h.undo();null!=t&&(this[$e](t[Vt][Se]<1?null:t[Vt],!1,!1),this.unsave(),this.#m(this[Pt][Kt][t[Me]],t[Ve]),this.#s&&this.#y())}redo(){const t=this.#h.redo();null!=t&&(this[$e](t[Vt],!1,!1),this.unsave(),this.#m(this[Pt][Kt][t[Me]],t[Ve]),this.#s&&this.#y())}heading(t,e){const i=t[Fe]||t[te],s=`${new Array(e).fill("#")[Te]("")}${0===e?"":" "}`;this.#a.check?this.#f((t=>{const n=this.#u.left[ci](/^\s*\#*\s*/,""),o=this.#u.body,r=this.#u.right,l=`${i?`<h${e}>`:s}${n}${o}${r}${i?`</h${e}>`:""}`[ci](/\n/g,""),a=l[Se]-(i?5:0);this.#C(l,a),this.#g(!0,this.#s)})):(this.#b(i?`<h${e}></h${e}>`:s),this.#m(this.#A,s[Se]-(i?5:0)),this.#g(!0,this.#s))}bold(t){this.#M(t,"**",sn)}italic(t){this.#M(t,"*",rn)}strikethrough(t){this.#M(t,"~~",ln)}underline(t){this.#M(t,an,an)}marker(t){this.#M(t,"==",Oe)}sup(t){this.#M(t,"^",xi)}sub(t){this.#M(t,"~",_i)}code(t){this.#a.check?this.#f((e=>{if(this.#a.isMulti){const t=vn(oe,"```"),e=vn(oe,"```");t[ys]=e[ys]=t=>this.#c(),this[Pt][ps](t,this[Pt][Kt][this.#u.end+1]),this[Pt][ps](e,this[Pt][Kt][this.#u.start]),this.#m(this[Pt][Kt][this.#u.end+1],this[Pt][Kt][this.#u.end+1][fs][Se]),this.#g(!0,this.#s)}else this.#M(t,"`",qt)})):this.#M(t,"`",qt)}blockquote(){this.#a.check?this.#f((t=>{for(let t=this.#u.start;t<=this.#u.end;t++){const e=this[Pt][Kt][t];e[ds]=bn(`> ${e[fs]}`)}const e=this[Pt][Kt][this.#u.end],i=e[fs][Se];this.#m(e,i),this.#g(!0,this.#s)})):(this.#b("> "),this.#m(this.#A,2),this.#g(!0,this.#s))}ul(){this.#$("-")}ol(){this.#$("1.")}link(t="",e=""){e[Ri]()[Se]<1&&t[Ri]()[Se]<1||this.#_(t,e)}image(t="",e="",i=""){t[Ri]()[Se]<1||this.#_(i,t,e)}clear(){this.init(),this.#y()}download(t="md"){const e={md:"md",html:"html"}[t[ji]()];if(null==e)return;let i="https://cdn.jsdelivr.net/npm/@pardnchiu/nanomd@1.11.6/dist/NanoMD-output.css";const s="md"===e?this.text[Ri]():`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>NanoMD 輸出</title><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="preload" href="${i}" as="style"><link rel="stylesheet" href="${i}"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="preload" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" as="style"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0" /><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"><\/script></head><body><section class="pd-md-viewer">${Jn(`\n${this.text}\n`)}</section></body></html>`;this.#I(e,s)}openfile(t){if(null==t)return void alert("請選擇檔案");this.clear();const e=new FileReader;e.readAsText(t),e.onload=()=>{this[Pt][ds]=null;const t=e.result[Ri]()[ci](/[\u0020\u00A0]/g," ");this.init(t,!1),this.#y()}}get text(){return[...this[Pt][Kt]].map((t=>"SECTION"===t[ms]?"":t[fs]))[Te]("\n")}goBack(){this.undo()}goForward(){this.redo()}addHeading(t,e){this.heading(t,e)}addBold(t){this.bold(t)}addItalic(t){this.italic(t)}addStrikethrough(t){this.strikethrough(t)}addUnderline(t){this.underline(t)}addMarker(t){this.marker(t)}addSup(t){this.sup(t)}addSub(t){this.sub(t)}addCode(t){this.code(t)}addBlockquote(){this.blockquote()}addUl(){this.ul()}addOl(){this.ol()}addLink(t="",e=""){this.link(t,e)}addImage(t="",e="",i=""){this.image(t,e,i)}downloadMd(){this.download("md")}downloadHtml(){this.download("html")}getTxt(){return this.text}}t.PDMarkdownEditor=t.MDEditor=Xn;class Qn{check=!1;isMulti=!1;isSingle=!0;index;offset;left;right;selection={};multi={};constructor(e,i,n=!1){const o=t[us]();if(o.rangeCount<1)return;const r=o.getRangeAt(0);let l=i||Mn(r.commonAncestorContainer);if(null==l)return;let a,u,h="";if(n){l=e;const t=l[$s](oe);for(let e=0;e<t.length;e++){const i=t[e];h+=(0==e?"":"\n")+i[fs]}a=0,u=t[Se]-1}else r.cloneContents()[zt][fe](((t,e)=>{h+=(0==e?"":"\n")+t[fs]})),l===e&&(a=p(Mn(o.baseNode)[ie][Me])-1,u=p(Mn(o.focusNode)[ie][Me])-1);var c=s(l===e),d=!c&&!n&&s(o[Lt]!==o[rs]),f=!!n||s(o[rs]>o[Lt]),m=!!n||s(a<u);this.check=!0,this.index=c?null:p(l[ie][Me])-1,this.offset=c||d?null:p(o[rs]),this.left=c||d?null:l[fs][yi](0,o[rs]),this.right=c||d?null:l[fs][yi](o[rs],l[fs][Se]),this.isSingle=d,this.isMulti=c;const g=d?f?o[Lt]:o[rs]:null,y=d?f?o[rs]:o[Lt]:null;this.selection={body:d?o.toString():h,start:g,end:y,left:d?l[fs][yi](0,g):null,right:d?l[fs][yi](y,l[fs][Se]):null};const v=c?m?a:u:null,w=n?0:c?m?o[Lt]:o[rs]:null,b=c?m?u:a:null,A=n?e[Kt][u][fs][Se]:c?m?o[rs]:o[Lt]:null;this.multi={start:{index:v,offset:w},end:{index:b,offset:A},left:n?"":c?l[Kt][v][fs][yi](0,w):null,right:n?"":c?l[Kt][b][fs][yi](A,l[fs][Se]):null}}}class to{#x;#k;#T=[];#N=[];constructor(t){this.#x=t}add(t,e,i){clearInterval(this.#k),null==i?this.#D(t,e):this.#k=setTimeout((i=>{this.#D(t,e)}),i)}#D(t,e){this.#T[li]({[Me]:t[Me],[Ve]:t[Ve],[Vt]:[...this.#x[Kt]].filter((t=>"DIV"==t.nodeName)).map((t=>t[fs]))[Te]("\n")}),e&&(this.#N=[])}undo(){const t=this.#T[(this.#T||[])[Se]-2];if(null==t)return;let e=this.#T.pop();return this.#N[li](e),t}redo(){const t=this.#N.pop();if(null!=t)return this.#T[li](t),t}}class eo{#x;#n;#i=!1;preventDefault=!0;#E={"cmd+meta":1};#S={"cmd+b":(t,e)=>t.bold(e),"cmd+i":(t,e)=>t.italic(e),"cmd+shift+x":(t,e)=>t.strikethrough(e),"cmd+u":(t,e)=>t.underline(e),"cmd+m":(t,e)=>t.marker(e),"cmd+k":(t,e)=>t.code(e),"cmd+arrowup":(t,e)=>t.sup(e),"cmd+arrowdown":(t,e)=>t.sub(e)};#L={"cmd+shift+z":(t,e)=>t.redo(),"cmd+r":()=>{},f5:()=>{},"cmd+z":(t,e)=>t.undo(),"cmd+a":(t,e)=>(t.selectAll(),!1),"cmd+s":(t,e)=>(t.save(),!1),tab:(t,e)=>t.indent(e),"cmd+]":(t,e)=>t.rowIndent(e),enter:(t,e)=>t.wrap(e),backspace:(t,e)=>t.backspace(e)};constructor(t={}){this.#x=t[re],this.#n=t.event,this.#i=t.hotKey;const e=this.#j(this.#n);if(!this.#E[hs](e)){if(this.#i&&this.#S[hs](e)){if(!1===this.#S[e](this.#x,this.#n))return;return this.#x[Pt][ie].saved=0,void(this.#x[Ki]&&(this.#x[Ki][Pt][ie].saved=0))}if(this.#L[hs](e)){if(!1===this.#L[e](this.#x,this.#n))return;return this.#x[Pt][ie].saved=0,void(this.#x[Ki]&&(this.#x[Ki][Pt][ie].saved=0))}this.preventDefault=!1}}#j(t){let e="";return(t.metaKey||t.ctrlKey)&&(e+="cmd+"),t.shiftKey&&(e+="shift+"),e+=t.key[ji](),e}}class io{editor;body;start;end;left;right;constructor(t,e){let i,s,n,o;this.editor=t,e.isMulti?(i=e.multi.start.index,s=e.multi.end.index,n=e.multi.left,o=e.multi.right):e.isSingle?(i=e.index,s=e.index,n=e.selection.left,o=e.selection.right):null!==e.index&&null!==e.offset&&(i=e.index,s=e.index,n=e.left,o=e.right),this.body=e.selection.body,this.start=p(i),this.end=p(s),this.left=n[ci](/&lt;/g,"<")[ci](/&gt;/g,">")[ci](/&nbsp;/g," "),this.right=o[ci](/&lt;/g,"<")[ci](/&gt;/g,">")[ci](/&nbsp;/g," ")}removeRows(){for(let t=this.end;t>this.start;t--)this.editor[Kt][t][hi]()}}class so{#x;#s;#n;#P;constructor(t={}){this.#x=t.editor,this.#s=s(null==t.autosave||t.autosave),this.#n=t.event||{};const e=mi+"."+Ie+"-"+Rt,i=parseInt(this.#x[Pt][ie].pin||0);this.#x[Pt][ie].wrap;let n=this.#x[Pt][ai](e);if(this.#P=/nanomd\.pardn\.io/[Ei](m[we]),n)return;const o=[{[Ue]:"format_bold",[Li]:"添加粗體",[di]:t=>this.#x.bold(t)},{[Ue]:"format_italic",[Li]:"添加斜體",[di]:t=>this.#x.italic(t)},{[Ue]:"strikethrough_s",[Li]:"添加刪除線",[di]:t=>this.#x.strikethrough(t)},{[Ue]:"format_underlined",[Li]:"添加底線",[di]:t=>this.#x.underline(t)},{[Ue]:"ink_marker",[Li]:"添加高亮",[di]:t=>this.#x.marker(t)},{[Ue]:"superscript",[Li]:"添加上標",[di]:t=>this.#x.sup(t)},{[Ue]:"subscript",[Li]:"添加下標",[di]:t=>this.#x.sub(t)},{[Ue]:"format_quote",[Li]:"添加引用",[di]:t=>this.#x.blockquote(t)},{[Ue]:"format_list_bulleted",[Li]:"添加無序列表",[di]:t=>this.#x.ul(t)},{[Ue]:"format_list_numbered",[Li]:"添加有序列表",[di]:t=>this.#x.ol(t)},{[Ue]:"code",[Li]:"添加代碼塊",[di]:t=>this.#x.code(t)},{[Ue]:"link",[Li]:"添加連結",[di]:t=>this.#x.link("連結文字","連結")},{[Ue]:"landscape",[Li]:"添加圖片",[di]:t=>this.#x.image("圖片連結","圖片名稱")},this.#n&&this.#n.upload?{[Ue]:"smb_share",[Li]:"上傳圖片",[di]:async t=>{const e=await this.#n.upload();this.#x.image(e.href??"",e.alt??"測試")}}:null,{},this.#s?null:{[Ue]:"autorenew",[Li]:"儲存並預覽",[di]:t=>this.#x.save(t)},{[Ue]:i?"keep_off":"keep",[Li]:"釘選面板",[di]:t=>this.#R(t)},{[Ue]:"wrap_text",[Li]:"換行",[di]:t=>this.#O()},this.#P?{[Ue]:"cloud_upload",[Li]:"部署",[di]:t=>this.#H()}:null].map((t=>{if(null==t)return;if(null==t[Ue]){return vn("span")}let e=vn("span.material-symbols-outlined",{title:t.title,[Ue]:t[Ue]},t[Ue]);return e.onpointerup=t[di],e}));n=vn(e,o),n[Yt]=!1,n[ie].hide=1,this[Pt]=n}#R(t){const e=t.target,i=p(this.#x[Pt][ie].pin||0);this.#x[Pt][ie].pin=Math.abs(i-1),e[fs]=i?"keep":"keep_off",e[Li]=i?"釘選面板":"取消釘選"}#O(){const t=p(this.#x[Pt][ie].wrap||1);this.#x[Pt][ie].wrap=Math.abs(t-1)}async#H(){this.#x[Pt][Dt](this[Pt]),this[Pt][ie][ve]=1;const e=new URL(location.href),i=navigator.language||navigator.userLanguage;let s=e.searchParams.get("lang"),n=/^zh/i.test(i);null!=s&&(n=/^zh/i.test(s)),null==this.#x.deployKey&&(this.#x.deployKey=Date.now()+"."+yn(16)),fetch("https://nanomd-deploy.pardn.workers.dev/",{method:"POST",headers:{"Content-Type":"application/json"},[Pt]:r[$t]({[Mt]:this.#x.deployKey,[Fi]:Jn(`\n${this.#x.text}\n`)})[Ri]()[ci](/[\u2028\u2029]/g,"")}).then((t=>t.text())).then((async e=>{confirm(n?"已成功部署並複製連結\n開啟頁面?":"Deployment successful and link copied.\nOpen the page?")&&t.open("https://nanomd-cloud.pardn.workers.dev/"+e)})).catch((t=>alert("Error:"+t.message)))}}t.MDParser=class{#F=!0;#z="";#K="";constructor(t={}){this.#F=t.standard??!0,this.#z=t.text??""}parse(t){return t=t??this.#z,this.#K=Jn(`\n${t}\n`,null,null,this.#F),this.#K}};class no{tag="";props={};children=[];data=null;constructor(t){if(t[Ls][ji]()===fi){let i=!1;for(const s of e[ge][$s](fi)||[])if(null!=t[Ai]&&s[Ai]===t[Ai]||null!=t[Si]&&s[Si]===t[Si]){i=!0;break}i||e[ge][Dt](t),this[Ti]=fi}this[Ti]=t[Ls][ji](),this[si]=[...t.attributes].reduce(((t,e)=>(t[e[Ue]]=e[Fi][Ri](),t)),{}),this[Kt]=function(t){return n[pe](t[zt]).filter((t=>t[kt]===h[xt]||t[kt]===h[It]&&t[Si]&&t[Si][Ri]()[Se]>0))}(t).map((t=>t.nodeType===Node[xt]?new no(t):t[Si]||""))}getPatches(t){return this.#B(t,this)}#B(t,e,i=[]){if(null==t&&e)return[{[Oi]:tn.create,[Me]:i,[Zi]:e}];if(t&&!e)return[{[Oi]:tn.remove,[Me]:i}];if(!t&&!e)return[];if(t.tag!==e.tag)return[{[Oi]:tn[ci],[Me]:i,[Zi]:e}];const s=[];return s[li](...this.#U(t,e,i)),s[li](...this.#G(t,e,i)),s}#U(t,e,i=[]){if(null==t||"string"==typeof t||null==e||"string"==typeof e)return[];const s=[],n=t[si]||{},r=o[_t](n)[Se],l=e[si]||{},a=o[_t](l)[Se];if(a>0)for(let t in l){const n=l[t];s[li]({[Oi]:tn.prop,[Zi]:e,key:t,value:n,[Me]:i})}if(r>0){if(a<1)for(let t in n)s[li]({[Oi]:tn.prop,[Zi]:e,key:t,[Fi]:null,[Me]:i});for(let t in l)a>0&&!(t in l)&&s[li]({[Oi]:tn.prop,[Zi]:e,key:t,[Fi]:null,[Me]:i})}return s}#G(t,e,i=[]){if(null==t||"string"==typeof t||null==e||"string"==typeof e)return[];const s=[],o=n[ke](t[Kt])?t[Kt]:[],r=n[ke](e[Kt])?e[Kt]:[],a=l.max(o[Se],r[Se]);for(let t=0;t<a;t++){const n=o[t],l=r[t],a=i.concat(t);if("string"==typeof n&&"string"==typeof l){if(n===l)continue;s[li]({[Oi]:tn.text,[Zi]:e,[Fi]:l,[Me]:a})}else null==n?s[li]({[Oi]:tn.append,[Zi]:l,[Me]:a}):null==l?s[li]({[Oi]:tn.remove,index:a}):s[li](...this.#B(n,l,a))}return s}}t.PDMarkdownViewer=t.MDViewer=class{body;vbody;#q;#Z="";#W=300;#V=0;#Y;#J;#x;constructor(t={}){if((ae in t||ii in t)&&(this.#Z=String(t[ae]||t[ii]||"")[Ri]()),$i in t){t[$i]}const n=t[$i]||{},o=i(n[Ke]||St)[Ri]()[ji](),r=s(null==n.fill?1:n.fill)?1:0,l=i(n[de]||"")[Ri]()||"sans-serif",a=t.sync||{};this.#W=p(null==a[se]?300:a[se])||300,this.#V=s(a[pi]||0)?1:0,this[re]=a[re]instanceof Xn?a[re]:null,e[ge][Dt](vn($i,`.${ti}{font-family: ${l}}`));const u=document[Wi](t[be]);typeof t[be]===Ci&&null!=u?(this[Pt]=u,u.classList.add(ti)):this[Pt]=vn(mi+"."+ti),this[Pt][ie][Ke]=w&&o===St||o===ee?ee:"",this[Pt][ie].fill=r,this[Pt][ie].sync=null==this[re]?0:1,this[Pt][ie].autosave=null==this[re]?1:this[re][Pt][ie].autosave;const h=t.hashtag||{};if(this.#Y=i(h.path||"")[Ri](),this.#J=i(h[Ni]||"")[Ri](),null!=t.fillMode){let e=s(t.fillMode)?1:0;this[Pt][ie].fill=e}if(null!=t[se]&&(this.#W=p(t[se])||300),null!=t[xs]&&(this.#V=s(t[xs])?1:0),null!=t[de]){let s=i(t[de])[Ri]()||"'Noto Sans TC', sans-serif";e[ge][Dt](vn($i,`.${ti}{font-family: ${s}}`))}null!=t[js]&&(this.#Y=i(t[js]||"")[Ri]()),null!=t[Ps]&&(this.#J=i(t[Ps]||"")[Ri]()),this.vbody=new no(this[Pt]),this.init()}get editor(){return this.#x}set editor(t){this.#x&&(this.#x[Pt][vs]=null),null!=t&&(this.#x=t,this.#x.viewer=this,this.#V&&null!=this.#x&&(this.#x[Pt][vs]=t=>{this[Pt][ks]+=t.deltaY}))}#X(){if(null==this.#x)return"";const t=[...this.#x[Pt][$s](oe)];let e="";for(let s of t){var i=s[fs][ci](/[\u00A0\u0020]/g," ");i[Ri]()[Se]<1?e+="\n":e+=i+"\n"}return e[Ri]()}clear(){let t=this[Pt].cloneNode(!0);t[ds]="";let e=new no(t);this[Pt][ds]="",this.vbody=e}unsave(){0!==p(this[Pt][ie].saved)&&(this[Pt][ie].saved=0)}init(e=""){this[Pt][ie].saved=1;let i=this.#Z,s=this[Pt][ks];t[Ut](this.#q),this.#q=t[Ss]((()=>{if(t[Ut](this.#q),i&&this[Pt][ds]&&i===this[Pt][ds])return;let n=e||this.#X()||i;n=Jn(`\n${n}\n`,this.#Y,this.#J);let o=vn(Di);for(let t of[...vn(oe,n)[zt]])o[Dt](t);this[Pt].replaceChildren(o);for(let e of[...this[Pt][$s](Rt+"."+Xt)])e[ys]=async e=>{t[Ut](mn);const i=e[Ni][ws],s=i[ts],n=i[Kt][0][fs];try{await navigator.clipboard.writeText(n),s[Tt](Ii),mn=t[Ss]((t=>{s[hi](Ii)}),1e3)}catch(t){console[ue](t),s[Tt](ue)}};let r=setInterval((()=>{null!=PR&&(clearInterval(r),this[Pt][ks]=s,PR.prettyPrint(),document.querySelectorAll(".mermaid").forEach((t=>{t.innerHTML=t.innerHTML.replace(/\<br\>/g,"\n").replace(/\&gt\;/g,">"),mermaid.run({nodes:[t]})})))}),50)}),this.#W)}changeMode(t=je){this[Pt][ie][Ke]=t}#Q(t,e){if(null!=t&&n[ke](e)){this.#tt(t,e);for(const i of e){const{index:e}=i,s=r.parse(r[$t](e||[]));let n;i.type===tn.append&&(n=s?.pop());const o=s?this.#et(t,s):t;o&&(i.type===tn.create&&Zi in i?this.#it(o,i):i.type===tn.replace&&Zi in i&&null!=o[bs]?this.#st(o,i):i.type===tn.append&&Zi in i&&null!=n?this.#nt(o,i,n):i.type===tn.prop&&Mt in i&&Fi in i&&o instanceof Element?this.#ot(o,i.key,i.value,i[Zi]):i.type===tn.text&&Fi in i&&o.nodeType===h[It]&&(o[Si]=i.value||""))}}}#tt(t,e){const i=e.filter((t=>t.type===tn.remove)).sort(((t,e)=>{const i=(e.index.length||0)-(t.index.length||0);if(0!==i)return i;for(let i=0;i<(t.index.length||0);i++)if((t.index[i]||0)!==(e.index[i]||0))return(e.index[i]||0)-(t.index[i]||0);return 0}));for(const e of i){const i=this.#et(t,e.index);null!=i&&null!=i[bs]&&i[bs].removeChild(i)}}#it(t,i){if(i.type!==tn.create||!(Zi in i))return;const s="string"==typeof i[Zi]?e[ss](i[Zi]):this.#rt(i[Zi]);null!=t[ws]&&t[ws][Dt](s)}#st(t,i){if(i.type!==tn.replace||!(Zi in i)||null==t[bs])return;const s="string"==typeof i[Zi]?e[ss](i[Zi]):this.#rt(i[Zi]);if(t[bs].replaceChild(s,t),!(s instanceof Text||"string"==typeof i[Zi])){for(const t in i[Zi][si])this.#ot(s,t,i[Zi][si][t]||"",i[Zi]);this.#lt(i[Zi],s)}}#nt(t,i,s){if(i.type!==tn.append||!(Zi in i)||null==s)return;const n="string"==typeof i[Zi]?e[ss](i[Zi]):this.#rt(i[Zi]);if(s+1>t[Kt][Se]?t[Dt](n):t.insertBefore(n,t[Kt][s+1]),"string"!=typeof i[Zi]){for(const[e,n]of o.entries(i[Zi][si]))this.#ot(t[Kt][s],e,n||"",i[Zi]);this.#lt(i[Zi],t[Kt][s])}}#ot(t,e,i,s){null==i?t[_removeAttribute](e):null!=t&&t[Ts](e,i)}#lt(t,e){if("string"==typeof t)return;let i=-1;for(const s in t.children){const n=t.children[+s];if(i++,"string"==typeof n){i--;continue}if(null==e)continue;const r=e.children[i];for(const[t,e]of o.entries(n[si]))this.#ot(r,t,e||"",n);this.#lt(n,r)}}#et(t,e){let i=t,s=n.from(i.childNodes).filter((t=>t.nodeType===h[xt]||t.nodeType===h[It]&&""!==t[Si]?.trim()))||[];for(const t of e)i=s[t],null!=i&&(s=n.from(i.childNodes).filter((t=>t.nodeType===h[xt]||t.nodeType===h[It]&&""!==t[Si]?.trim()))||[]);return i}#rt(t){const i=e.createElement(t.tag);if(t[si])for(const[e,s]of o.entries(t[si]))e[Ct](":")||e[Ct]("@")||void 0!==s&&i[Ts](e,s);for(const s of t[Kt])"string"==typeof s?i[Dt](e[ss](s)):i[Dt](this.#rt(s));return i}}}("undefined"==typeof window?window={}:window);export const editor = window.MDEditor; export const MDEditor = window.MDEditor; export const viewer = window.MDViewer; export const MDViewer = window.MDViewer; export const MDParser = window.MDParser;
